# ‚úÖ Validadores (*Validators*) en ASP.NET Web Forms

Los **validators** (controles de validaci√≥n) en ASP.NET se utilizan para **comprobar autom√°ticamente que los datos introducidos por el usuario sean correctos** antes de enviarse al servidor.  
Permiten aplicar reglas de validaci√≥n sin necesidad de escribir mucho c√≥digo, y pueden funcionar tanto en el **cliente (navegador)** como en el **servidor**.

---

## üß© ¬øPara qu√© sirven los *validators*?

Sirven para:
- Asegurarse de que un campo obligatorio no quede vac√≠o.  
- Comprobar que un dato tenga el **formato correcto** (por ejemplo, un correo electr√≥nico).  
- Verificar que un valor est√© dentro de un **rango num√©rico o de fechas**.  
- Comparar dos campos (por ejemplo, contrase√±a y repetir contrase√±a).  
- Crear reglas de validaci√≥n personalizadas.  

---

## ‚öôÔ∏è Tipos de validadores en ASP.NET

| Control | Funci√≥n principal |
|----------|------------------|
| **RequiredFieldValidator** | Verifica que el campo no est√© vac√≠o. |
| **CompareValidator** | Compara el valor de un control con otro o con un valor fijo. |
| **RangeValidator** | Comprueba que el valor est√© dentro de un rango (num√©rico, de fechas o de texto). |
| **RegularExpressionValidator** | Comprueba que el valor cumpla una expresi√≥n regular (por ejemplo, formato de correo o tel√©fono). |
| **CustomValidator** | Permite definir validaciones personalizadas mediante c√≥digo (en C# o JavaScript). |
| **ValidationSummary** | Muestra un resumen con todos los mensajes de error del formulario. |

---

## üß† Funcionamiento

- Cada *validator* est√° vinculado a un control mediante el atributo **`ControlToValidate`**.  
- Cuando el usuario pulsa el bot√≥n **Enviar**, ASP.NET comprueba todas las reglas de validaci√≥n.  
- Si alguna no se cumple:
  - Se muestra el mensaje de error.  
  - No se ejecuta el c√≥digo del servidor (si usas `Page.IsValid`).  

---

## üîí Validaci√≥n en cliente y en servidor

ASP.NET realiza validaci√≥n **en ambos lados**:
- **Cliente (navegador):** evita recargar la p√°gina innecesariamente.  
- **Servidor:** garantiza la seguridad (el usuario no puede saltarse la validaci√≥n).  

En el c√≥digo del servidor, puedes comprobarlo as√≠:

```csharp
protected void BtnEnviar_Click(object sender, EventArgs e)
{
    if (Page.IsValid)
    {
        // Solo se ejecuta si todas las validaciones son correctas
        Response.Write("Datos correctos ‚úÖ");
    }
}
```

---

## ‚úÖ Ventajas

- Muy f√°ciles de usar.  
- Integrados con el ciclo de vida de ASP.NET.  
- Se combinan perfectamente con CSS y Bootstrap.  
- Permiten validaci√≥n visual inmediata al usuario.  

---

> üí° **Conclusi√≥n:**  
> Los *validators* de ASP.NET Web Forms son herramientas muy potentes para asegurar la calidad de los datos introducidos por los usuarios.  
> Permiten validar informaci√≥n de forma sencilla y segura, combinando la validaci√≥n del lado del cliente y del servidor.

# üîç Por qu√© los *Validators* de ASP.NET validan en cliente y en servidor

En ASP.NET Web Forms, los **controles de validaci√≥n** realizan la comprobaci√≥n de los datos **tanto en el cliente (navegador)** como en el **servidor (IIS/ASP.NET)**.  
Esta validaci√≥n dual combina **rapidez** y **seguridad**, ofreciendo una mejor experiencia al usuario y garantizando la integridad de los datos.

---

## ‚öôÔ∏è 1. Validaci√≥n en el cliente (navegador)

Cuando se usa un control como este:

```aspx
<asp:RequiredFieldValidator ID="ReqNombre" runat="server"
    ControlToValidate="TxtNombre"
    ErrorMessage="El nombre es obligatorio."
    ForeColor="Red" Display="Dynamic" />
```

ASP.NET genera **autom√°ticamente c√≥digo JavaScript** al renderizar la p√°gina.  
Ese c√≥digo:

- Detecta cu√°ndo el usuario intenta enviar el formulario (`onsubmit`).
- Comprueba que el campo `TxtNombre` no est√© vac√≠o.
- Si no se cumple la condici√≥n, **muestra el mensaje de error sin recargar la p√°gina** y **bloquea el env√≠o**.

üëâ Ventajas de la validaci√≥n en cliente:
- Respuesta inmediata al usuario.  
- Evita recargar la p√°gina.  
- Reduce peticiones innecesarias al servidor.  

üí° Se conoce como **validaci√≥n del lado del cliente**.

---

## üñ•Ô∏è 2. Validaci√≥n en el servidor

Aunque el navegador ya haya validado los datos, ASP.NET **vuelve a validar en el servidor** cuando el formulario llega a procesarse.  
Esta validaci√≥n se ejecuta en el ciclo de vida de la p√°gina, **antes de ejecutar cualquier evento** como `Page_Load` o `BtnEnviar_Click`.

ASP.NET eval√∫a de nuevo todos los validadores y actualiza la propiedad:

```csharp
Page.IsValid
```

- `true` ‚Üí todos los controles pasan la validaci√≥n.  
- `false` ‚Üí alguno de los validadores ha fallado.

Ejemplo:

```csharp
protected void BtnEnviar_Click(object sender, EventArgs e)
{
    if (Page.IsValid)
    {
        // Solo se ejecuta si todos los validadores son correctos
        GuardarDatos();
    }
}
```

---

## üîí 3. ¬øPor qu√© validar dos veces?

Porque **no se puede confiar completamente en el cliente**.  
Cualquier usuario podr√≠a:
- Desactivar JavaScript.  
- Modificar el HTML con herramientas del navegador.  
- Enviar datos falsos con herramientas externas (Postman, scripts, etc.).  

Por eso, aunque la validaci√≥n del cliente mejora la **usabilidad**, la del **servidor** garantiza la **seguridad** y la **consistencia**.

---

## üß© 4. Comparativa entre validaciones

| Aspecto | Validaci√≥n en cliente | Validaci√≥n en servidor |
|----------|----------------------|------------------------|
| **D√≥nde se ejecuta** | En el navegador (JavaScript) | En el servidor (ASP.NET/IIS) |
| **Velocidad** | Muy r√°pida, sin recargar la p√°gina | M√°s lenta, requiere env√≠o del formulario |
| **Objetivo** | Mejorar la experiencia del usuario | Proteger y verificar los datos recibidos |
| **Depende del usuario** | S√≠, puede desactivarse (sin JS) | No, siempre se ejecuta |
| **Requiere conexi√≥n** | No | S√≠ |
| **Resultado visible** | Mensajes inmediatos | Respuestas o errores del servidor |

---

## ‚úÖ Conclusi√≥n

ASP.NET Web Forms **valida en ambos lados** para ofrecer lo mejor de cada enfoque:

- üí® **Rapidez** ‚Üí validaci√≥n en el cliente (JavaScript).  
- üîí **Seguridad y fiabilidad** ‚Üí validaci√≥n en el servidor (ASP.NET).  

De esta manera, aunque el usuario manipule el formulario o desactive JavaScript, el servidor **nunca procesar√° datos inv√°lidos o peligrosos**.

---

> üß† **Resumen:**  
> La validaci√≥n en el cliente mejora la experiencia del usuario,  
> mientras que la validaci√≥n en el servidor protege la aplicaci√≥n y garantiza la integridad de los datos.
