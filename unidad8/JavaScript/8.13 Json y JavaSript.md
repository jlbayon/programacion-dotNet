# JavaScript y JSON ‚Äî Gu√≠a r√°pida

## ‚úÖ ¬øQu√© es JSON?
**JSON** (JavaScript Object Notation) es un formato de texto para **intercambiar datos**. Reglas clave:
- Claves y cadenas siempre con **comillas dobles** `"..."`.
- Sin **comentarios** ni **comas finales**.
- Tipos permitidos: `string`, `number`, `boolean`, `null`, `array`, `object`.

**Ejemplo:**
```json
{
  "nombre": "Ada",
  "edad": 28,
  "skills": ["JS", "HTML", "CSS"],
  "activa": true,
  "extra": null
}
```

---

## üîÉ JSON ‚ÜîÔ∏è JavaScript
### JSON ‚Üí JS (parsear)
El m√©todo `JSON.parse()` sirve para convertir (parsear) un texto en formato JSON ‚Üí a un **objeto  JavaScript real**.
```js
const json = '{"nombre":"Ada","edad":28}'; // json es un string en formato JSON
const obj = JSON.parse(json); // obj es un objeto JavaScript: { nombre: "Ada", edad: 28 }
console.log(obj.nombre);      // "Ada"
```
Con control de errores:
```js
try {
  const datos = JSON.parse(json);
} catch (e) {
  console.error("JSON inv√°lido:", e.message);
}
```

### JS ‚Üí JSON (serializar)
El m√©todo `JSON.stringify()` sirve para convertir (serializar) un objeto JS  ‚Üí a **texto JSON**
```js
const obj = { nombre: "Ada", edad: 28 };
const str = JSON.stringify(obj);           // '{"nombre":"Ada","edad":28}'
```
Formateado (pretty print):
```js
JSON.stringify(obj, null, 2);  // sangr√≠a de 2 espacios
```
**Replacer** (filtrar/transformar):
```js
JSON.stringify(obj, (k, v) => (k === "edad" ? undefined : v));
```
**Reviver** (transformar al parsear):
```js
const str = '{"fecha":"2025-10-24T10:00:00Z"}';
const o = JSON.parse(str, (k, v) => (k === "fecha" ? new Date(v) : v));
o.fecha instanceof Date; // true
```

---

## üåê Consumir APIs (fetch + JSON)
## fetch
Es una funci√≥n **async**
```js
async function cargarUsuarios() {
  const res = await fetch("https://jsonplaceholder.typicode.com/users");
  if (!res.ok) throw new Error("HTTP " + res.status);
  const usuarios = await res.json(); // parsea JSON autom√°ticamente
  alert(usuarios[0].name);
}

```
### Enviar JSON (POST):
Es una funci√≥n **async**
```js
async function crearUsuario() {
  const body = JSON.stringify({ nombre: "Ada", email: "ada@example.com" });
  const res = await fetch("/api/usuarios", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body
  });
  const data = await res.json();
  alert("Creado:", data);
}
```

---

## üìù Formularios ‚Üí JSON
```html
<form id="f">
  <input name="nombre" placeholder="Nombre" />
  <input name="email" type="email" placeholder="Email" />
  <button>Enviar</button>
</form>
<script>
document.getElementById("f").addEventListener("submit", async (e) => {
  e.preventDefault();
  const fd = new FormData(e.target);
  const obj = Object.fromEntries(fd.entries());  // {nombre:"...", email:"..."}
  const json = JSON.stringify(obj);
  console.log(json);
});
</script>
```

---

## üì¶ Guardar JSON en localStorage
```js
const settings = { theme: "dark", idioma: "es" };
localStorage.setItem("settings", JSON.stringify(settings));

const saved = JSON.parse(localStorage.getItem("settings") || "{}");
console.log(saved.theme); // "dark"
```

---


## üß™ Validar JSON
```js
function esJSONValido(str) {
  try { JSON.parse(str); return true; } catch { return false; }
}
```

---

